<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link id="favicon" rel="icon" type="image/svg+xml" href="dist/logo.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Conveyor</title>
  <style>
    body {
      height: 100%;
      margin: 0;
      width: 100%;
      overflow: hidden;
    }
  </style>
  <link rel="stylesheet" href="/dist/styles.css" />
</head>

<body>
  <img src="/dist/logo.svg" alt="" class="h-8 w-8" />
  <div id="conveyor">Loading...</div>
  <script type="module">
    import React from "https://esm.sh/react@19/?dev"
    import ReactDOMClient from "https://esm.sh/react-dom@19/client?dev"
    import { Conveyor, ModelIndex, ScalarTypes } from "/dist/conveyor.js"

    const { Conveyor, ModelIndex, ScalarTypes } = window.conveyor;

    const root = ReactDOM.createRoot(document.getElementById("conveyor"))
    root.render(
      React.createElement('div', {
        className: "flex flex-col"
      }, React.createElement(Conveyor, {
        valueOptions: {
          [ScalarTypes.STRING]: (value) => React.createElement('b', { className: "text-green-700" }, value),
        }
      }, React.createElement(ModelIndex, {
        model: "DisneyCats",
        fields: [
          'id',
          'type',
          {
            name: 'name',
            type: ScalarTypes.STRING,
            editable: true,
            required: true,
          },
          { name: 'isHappy', type: ScalarTypes.BOOLEAN, editable: true },
          { name: 'released', type: ScalarTypes.DATETIME, editable: true },
          { name: 'bestBearFriend', type: 'DisneyBear', editable: true },
        ],
        data: [
          {
            id: '1',
            type: 'Tiger',
            name: 'Tigger',
            isHappy: false,
            released: '1928-10-1',
            bestBearFriend: { id: '1' },
          },
          {
            id: '2',
            type: 'Cat',
            name: 'Duchess',
            isHappy: true,
            released: '1994-06-24',
            bestBearFriend: null,
          },
          {
            id: '3',
            type: 'Lion',
            name: 'Simba',
            isHappy: true,
            released: '1970-12-24',
            bestBearFriend: null,
          },
        ]
      })))
    );
  </script>
</body>

</html>